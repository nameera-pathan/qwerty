{% extends 'base.html' %}
{% load static %}
{% block content %}

		<section class="ftco-section msg-display" style="height:100vh;">
			<div class="container">
				
{% if user.is_employee %}
			
						{% if paginator.count == 0 %}
						<div class="row justify-content-center mb-5 pb-3"> 
						<div class="col-md-10 heading-section text-center ftco-animate">
						<span class="subheading">
						<h3 style="color:grey;">  Your message inbox is currently empty.</h3>
						</span>
						</div> 
						</div> 		
						{% endif %} 

				
	<div class="row justify-content-center mb-5 pb-3">
		
      {% for invite in invites %}
        <div class="col-md-9 ftco-animate">

			{% if invite in user.unread_messages %}
				<div class="job-post-item bg-white p-4 d-block d-md-flex align-items-center" style="border-radius:15px;">
					<div class="mb-4 mb-md-0 mr-5">
						<div class="job-post-item-header d-block d-md-flex align-items-center">
							<h3 class="mr-3 text-black" style="font-weight:bold;">{{ invite.title }}</h3>
						</div>
					</div>
					<div class="ml-auto d-flex">
						<a href="{% url 'users:employee_display_messages' pk=invite.id %}" class="btn btn-success py-2 mr-1">Read Message</a>
					</div>
				</div>

			{% else %}

			<div class="job-post-item p-4 d-block d-md-flex align-items-center" style="background-color:rgb(60,60,60); border-radius:15px;">
				<div class="mb-4 mb-md-0 mr-5">
					<div class="job-post-item-header d-block d-md-flex align-items-center">
						<h3 class="mr-3" style="font-weight:bold; color:grey;">{{ invite.title }}</h3>
					</div>
				</div>	
				<div class="ml-auto d-flex">
				  <a href="{% url 'users:employee_display_messages' pk=invite.id %}" class="btn btn-info py-2 mr-1">Read Message</a>
				</div>
		 	</div>

			{% endif %}
        </div> 
    {% endfor %}




				</div>
				<div class="row mt-5">
                    {% if is_paginated %}
          <div class="col text-center">
            <div class="block-27">
              <ul>
                  {% if page_obj.has_previous %}
                <li><a href="?page={{ page_obj.previous_page_number }}">&lt;</a></li>
                  {% else %}
                  <li class="disabled"><span>&lt;</span></li>
                  {% endif %}
                  {% for i in paginator.page_range %}
                  {% if page_obj.number == i %}
                <li class="active"><span>{{ i }}</span></li>
                  {% else %}
                <li><a href="?page={{ i }}">{{ i }}</a></li>
                  {% endif %}
                  {% endfor %}
                  {% if page_obj.has_next %}
                <li><a href="?page={{ page_obj.next_page_number }}">&gt;</a></li>
                  {% else %}
                  <li class="disabled"><span>&gt;</span></li>
                  {% endif %}
              </ul>
            </div>
          </div>
                    {% endif %}
        </div>
				{% else %}
				<div class="row justify-content-center mb-5 pb-3">
					<div class="col-md-7 heading-section text-center ftco-animate">
						<h4 style="color:white;">You are not an employee</h4>
					</div>
				</div>
				{% endif %}
			</div>
		</section>





{% endblock %}